<div class="container text-center">
    <!--<hr />
    <h2>Welcome to the room {{name}}</h2>-->
    <hr />
    <h2>{{currentRoom.roomName}}</h2>
    <h3>{{currentRoom.roomDescription}}</h3>
    
    <div class="text-center" data-ng-hide="!userLink.isAdmin">
        <hr />
        <a class="btn btn-info" style="width: 150px;" ng-click="showStoriesForm()">Enter Stories</a>
        <a class="btn btn-success" style="width: 150px;" ng-click="showAddForm()">Add Users</a>
        <!--<a class="btn btn-warning" style="width: 150px;" ng-click="showDeleteForm()">Delete Users</a>-->
        <a class="btn btn-danger" style="width: 150px;" ng-click="deleteRoom()">Delete Room</a>        
    </div>
    <br />
    <!--adding user form-->
    <div class="text-center form-inline" ng-show="data.visible">
        <div class="form-group" >
            <select class="form-control" placeholder="Select user" style="width: 200px;" id="repeatSelect" ng-model="data.userSelect">
                <option ng-repeat="(id, user) in users" value="{{user.Id}}">{{user.UserName}}</option>
            </select>
            <button class="btn btn-success" style="width: 100px;" ng-click="addUser(data.userSelect)">Add</button>
        </div>
    </div>

    <!--deleting user form-->
    <div class="text-center form-inline" ng-show="data.delVisible">
        <div class="form-group">
            <select class="form-control" placeholder="Select user" style="width: 200px;" id="repeatSelect" ng-model="data.userSelect">
                <option ng-repeat="(id, user) in roomUsers" value="{{user.id}}">{{user.userName}}</option>
            </select>
            <button class="btn btn-warning" style="width: 100px;" ng-click="deleteUser(data.userSelect)">Delete</button>
        </div>
    </div>

    <!--entering stories form-->
    <div class="text-center form-inline" ng-show="data.storiesVisible">
        <div class="form-group">            
            <input class="form-control" id="story" placeholder="Enter story name" data-ng-model="newStory.Name" required>            
        </div>
        <button class="btn btn-info" style="width: 100px;" ng-click="addStory()">Add Story</button>
    </div>

    <hr/>
    <div class="col-md-offset-4 col-md-4 text-center">
        <h3 class="text-center">Room members</h3>
        <table class="table table-hover table-bordered text-center">
            <tr>
                <th style="width:150px;" class="text-center">Name</th>
                <th style="width:100px;" class="text-center" data-ng-hide="!userLink.isAdmin">Delete</th>
            </tr>            
            <tr ng-repeat="(id, user) in roomUsers track by $index">
                <td>
                    <p ng-bind="user.userName"></p>
                </td>
                <td data-ng-hide="!userLink.isAdmin">
                    <p><img src="../../img/delete.png" width="30px;" style="cursor: pointer;" ng-click="deleteUser(user.id, user.userName)" data-ng-hide="admin.userName == user.userName"/></p>
                </td>
            </tr>
        </table>
    </div>
    
    <div class="col-lg-12">
        <hr />
    </div>
    
    <div class="col-md-offset-2 col-md-8 text-center">
        <h3 class="text-center">Stories</h3>
        <p><a class="btn btn-success" style="width: 150px;" ng-click="goToStory()">Go to current Story</a></p>
        <table class="table table-hover table-bordered text-center">
            <tr>
                <th style="width:40px;" class="text-center">#</th>
                <th style="width:200px;" class="text-center">Name</th>
                <th style="width:100px;" class="text-center">IsEstimated</th>
                <th style="width:100px;" class="text-center">Points</th>
                <th style="width:50px;" class="text-center" data-ng-hide="!userLink.isAdmin">Delete</th>
            </tr>
            <tr ng-repeat="(id, story) in stories">
                <td><strong>{{ story.id }}</strong></td>
                <td>
                    <h4>{{story.name}} <img src="../../img/current_logo.png" width="55px;" data-ng-hide="!(story.id == currentStory.id)" /></h4>
                    
                </td>
                <td>
                    <p><img src="../../img/checkBlue.png" width="30px;" data-ng-hide="!story.isEstimated" /></p>
                    <p><img src="../../img/crossBlue1.png" width="30px;" data-ng-hide="story.isEstimated" /></p>                    
                </td>
                <td>
                    <h4>{{ story.points }}</h4>
                </td>
                <td data-ng-hide="!userLink.isAdmin">
                    <p><img src="../../img/delete.png" width="30px;" style="cursor: pointer;" ng-click="deleteStory(story.id)" /></p>
                </td>
            </tr>
        </table>
    </div>
</div>
